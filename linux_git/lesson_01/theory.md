# Linux/Git #1 / Nov 9, 2023

## Ссылки

- [Git: введение](https://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%9E-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8F-%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B9)
- [Git: зачем?](https://www.atlassian.com/ru/git/tutorials/what-is-git)
- [Git: ветвеление](https://git-scm.com/book/ru/v2/%D0%92%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-Git-%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D1%8B-%D0%B2%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B8-%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D1%8F)

## Необходимые знания для работы в команде (Git/GitHub)

1. Освоить базовый порядок работы с Git/GitHub
2. Освоить механизм ветвления
3. Освоить модели совместной разработки

## Этапы работы

1. **Подготовительный этап**
    - (только для Windows) установка GIT на компьютер https://git-scm.com/downloads
    - настройка Git на компьютере:
        - `git config --global -l` посмотреть текущие настройки
        - `git config --global user.name "Ivan Ivanov"` настройка имени
        - `git config --global user.email "my_email@example.org"` настройка email
    - наличие аккаунта на GitHub
    - выгрузить публичный ключ на GitHub
        - просмотр публичного ключа (если ошибка, то надо сгенерировать)
            - `cat ~/.ssh/id_ed25519.pub`
            - `cat ~/.ssh/id_rsa.pub`
        - `ssh-keygen -t ed25519 -C 'email@example.org'` сгенирировать пару ключей (ВЫПОЛНИТЬ ТОЛЬКО В НАЧАЛЕ КАРЬЕРЫ)
        - скопировать публичный ключ на GitHub
        - `ssh -T git@github.com` проверить, что ключ выгружен на GitHub

## Проверка текущей версии Git

```bash
# открыть терминал и ввести команду
git --version
git -v
```

### Основные способы авторизации в Интернет

1. **По паролю**
2. **По публичному ключу**
- используют в профе. среде
- позволяет выполнять авторизацию без пароля (прозрачно)
- подразумевает наличие пары ключей
    - **публичный (public)** - можно делиться со всеми
    - **приватный (private)** - храним в секрете

## Git: эко-система

1. **Git** - прикладная программа - дополнительным инструментом любого разработчика
2. **GitHub** - интернет-площадка
3. **GitHub Pages** - бесплатный хостинг (`html/css/js`)

# GIT (2005)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/95d3eea4-bdd9-4866-805a-55b03d066b78/1a780f00-9069-487f-825d-a7013b854a61/Untitled.png)

**Что это?**

- Система контроля версий
- Хранилище
- Машина времени
- Умная система
управления кодом проекта
- Содержит все файлы
проекта
- Своебразная БД, т.е.
хранит в структурированном виде
- Можно восстановить
предыдущие версии файлов
- Есть обмен версиями
между разработчиками
- Проверка целостности
(контрольные суммы, хеш-суммы – если
быть точным) – надежная система

## Виды программных интерфейсов

1. `GUI` (Graphical User Interface) - графический интерфейс пользователя
2. `CLI` (Command Line Interface) - интерфейс командной строки

## Базовые понятия

- **проект** - каталог с файлами исходного кода (кодовая база)
- **репозиторий** - хранилище истории разработки проекта

## Базовый (основной) порядок работы с Git/GitHub

1. **Подключения Git к проекту / инициализация нового репозитория**
    - `git init`
    - создается “скрытое хранилище” - каталог `.git/`
    - выполнять только для новых проектов
2. **Сохранение**
    - индексация файлов (добавить в очередь на сохранение)
        - `git add .`
    - фиксация (сохранение как таковое)
        - `git commit -m 'описание изменений'`
3. **Создание нового репо на GitHub**
4. **Привязка репо `LOCAL ↔ REMOTE`**

![Screenshot from 2023-11-09 14-06-46.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/95d3eea4-bdd9-4866-805a-55b03d066b78/74cee2a2-22ff-4c01-9144-5522180b4211/Screenshot_from_2023-11-09_14-06-46.png)

1. **Выгрузка ветки на GitHub**
    1. `git push -u origin название_ветки` (`main`, `master` и т.д.)
    2. `git push`

## Просмотр текущей привязки

```bash
git remote -v
```

## Удалить текущую привязку

```bash
git remote rm origin
```

![Screenshot from 2023-11-09 14-22-35.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/95d3eea4-bdd9-4866-805a-55b03d066b78/f4bf5377-d03c-4cad-897a-a9b7a88e1b6c/Screenshot_from_2023-11-09_14-22-35.png)

## Стандартная последовательность команд

```bash
git add .
git commit -m 'update'
git push
```

## Файл `README.md`

- использует формат `Markdown`
- описание репо на **GitHub**
- помещается в корень проекта, как правило

**Пример**

```markdown
## Test Project
```

## Ветвление в Git

- Ветка - еще одна версия проекта (изолированный поток разработки)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/95d3eea4-bdd9-4866-805a-55b03d066b78/41f55b0f-e0af-4576-8962-fb8a25bd3527/Untitled.png)

### Стратегии ветвления в Git

1. **Git Flow**
    1. `main/master/stable` - long-term (только для проверенного, оттестированного кода - “**священный грааль**”)
    2. `develop/current` - long-term (для тестирования, текущая разработка)
    3. `login/bugfix1/payments` - short-term
2. **GitHub Flow**
    1. `main/master/stable` - long-term
    2. `login/bugfix1/payments` - short-term

## Работа с ветками

### 1. Просмотр списка веток (версий)

```bash
git branch
```

### 2. Создание новой ветки (от текущей)

```bash
git branch новая_ветка
```

### 3. Переключение на другую ветку

```bash
# только после сохранения всех изменений
git checkout название_ветки
git checkout - # переключиться на предыдущую
```

### 4. Выгрузка ветки на GitHub

```bash
git push -u origin название_ветки
```

### 5. Создание ветки и переключение на нее (одной командой)

```bash
git checkout -b new_branch # от текущей ветки
git checkout -b new_branch main # от main
```

### 6. Удаление локальной ветки (!)

```bash
# предварительно уйти с удаляемой ветки
git branch -D название_ветки
git branch -D ветка_1 ветка_2 ветка_3 # сразу несколько
```

### 7. Удаление дистанционной ветки (!)

```bash
git push origin --delete название_ветки
git push origin --delete ветка_1 ветка_2 ветка_3 # сразу несколько
```

### 8. Переименование текущей локальной ветки

```bash
git branch -m новое_название
```

### 9. Слияние веток

- перенос (интеграция) изменений из одной ветки в другую
- сохранить все изменения перед слиянием
- перед слиянием необходимо переключиться на целевую ветку

```bash
git merge название_ветки_откуда_взять_улучешения
```

## Схема работы `LOCAL ↔ REMOTE`

!https://prod-files-secure.s3.us-west-2.amazonaws.com/95d3eea4-bdd9-4866-805a-55b03d066b78/dd6eece9-3b3f-4c40-b375-ebec0fa2c3e8/Untitled.png